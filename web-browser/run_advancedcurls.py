import requests
import time
import random



   
def randomteleport():
    url = "http://127.0.0.1:8000/drone"
    headers = {'accept': 'application/json','Content-Type': 'application/json'}
    flag=True  
    while 1:
        la=random.uniform(40.634143433650856,40.64107609738405)
        lo=random.uniform(-8.631619736734109,-8.644356258680594)
        
        data={"id": "2","lat": la,"lon": lo,"has_package": flag}
        payload = dict(data)    
        res = requests.post(url,headers=headers,json=payload)
        time.sleep(0.8)
        print(res.text)
        
        la=random.uniform(40.634143433650856,40.64107609738405)
        lo=random.uniform(-8.631619736734109,-8.644356258680594)
        
        data={"id": "1","lat": la,"lon": lo,"has_package": not flag}
        payload = dict(data)    
        res = requests.post(url,headers=headers,json=payload)
        time.sleep(0.8)
        print(res.text)
        
        flag= not flag




url = "http://127.0.0.1:8000/"
res = requests.get(url)
print(res.status_code)



#randomteleport()


url = "http://127.0.0.1:8000/drone"

DataList_1=((40.634143433650856, -8.631619736734109), (40.634177908992605, -8.631799124367157), (40.63421238433436, -8.631978512000208), (40.63424685967611, -8.632157899633256), (40.63428133501786, -8.632337287266305), (40.63431581035962, -8.632516674899355), (40.634350285701366, -8.632696062532403), (40.634384761043115, -8.632875450165452), (40.63441923638487, -8.633054837798502), (40.63445371172662, -8.63323422543155), (40.63448818706837, -8.633413613064599), (40.63452266241013, -8.63359300069765), (40.63455713775188, -8.633772388330698), (40.634591613093626, -8.633951775963746), (40.63462608843538, -8.634131163596797), (40.63466056377713, -8.634310551229845), (40.63469503911888, -8.634489938862894), (40.63472951446064, -8.634669326495944), (40.63476398980239, -8.634848714128992), (40.63479846514414, -8.63502810176204), (40.634832940485886, -8.635207489395091), (40.63486741582764, -8.63538687702814), (40.63490189116939, -8.635566264661188), (40.63493636651114, -8.635745652294238), (40.6349708418529, -8.635925039927287), (40.63500531719465, -8.636104427560335), (40.635039792536396, -8.636283815193385), (40.63507426787815, -8.636463202826434), (40.6351087432199, -8.636642590459482), (40.63514321856165, -8.636821978092533), (40.63517769390341, -8.637001365725581), (40.63521216924516, -8.63718075335863), (40.63524664458691, -8.63736014099168), (40.63528111992866, -8.637539528624728), (40.63531559527041, -8.637718916257777), (40.63535007061216, -8.637898303890827), (40.63538454595392, -8.638077691523876), (40.63541902129567, -8.638257079156926), (40.63545349663742, -8.638436466789974), (40.635487971979174, -8.638615854423023), (40.63552244732092, -8.638795242056073), (40.63555692266267, -8.638974629689121), (40.63559139800443, -8.63915401732217), (40.63562587334618, -8.63933340495522), (40.63566034868793, -8.639512792588269), (40.635694824029684, -8.639692180221317), (40.635729299371434, -8.639871567854367), (40.63576377471318, -8.640050955487416), (40.63579825005494, -8.640230343120464), (40.63583272539669, -8.640409730753515), (40.63586720073844, -8.640589118386563), (40.635901676080195, -8.640768506019612), (40.635936151421944, -8.640947893652662), (40.635970626763694, -8.64112728128571), (40.63600510210544, -8.641306668918759), (40.6360395774472, -8.641486056551809), (40.63607405278895, -8.641665444184857), (40.6361085281307, -8.641844831817906), (40.636143003472455, -8.642024219450956), (40.636177478814204, -8.642203607084005), (40.636211954155954, -8.642382994717053), (40.63624642949771, -8.642562382350103), (40.63628090483946, -8.642741769983152), (40.63631538018121, -8.6429211576162), (40.636349855522965, -8.64310054524925), (40.636384330864715, -8.6432799328823), (40.636418806206464, -8.643459320515348), (40.63645328154822, -8.643638708148398), (40.63648775688997, -8.643818095781446), (40.63652223223172, -8.643997483414495), (40.636556707573476, -8.644176871047545), (40.636591182915225, -8.644356258680594))
DataList_2=((40.636591182915225, -8.644356258680594), (40.63665435072465, -8.644160882787803), (40.63671751853406, -8.643965506895013), (40.636780686343485, -8.643770131002222), (40.63684385415291, -8.643574755109432), (40.63690702196232, -8.643379379216642), (40.636970189771745, -8.643184003323853), (40.63703335758117, -8.642988627431063), (40.63709652539059, -8.642793251538272), (40.637159693200005, -8.642597875645482), (40.63722286100943, -8.642402499752691), (40.63728602881885, -8.642207123859901), (40.637349196628264, -8.64201174796711), (40.63741236443769, -8.64181637207432), (40.63747553224711, -8.64162099618153), (40.637538700056524, -8.64142562028874), (40.637601867865946, -8.64123024439595), (40.63766503567537, -8.64103486850316), (40.637728203484784, -8.64083949261037), (40.637791371294206, -8.64064411671758), (40.63785453910363, -8.64044874082479), (40.63791770691304, -8.640253364931999), (40.637980874722466, -8.640057989039208), (40.63804404253189, -8.639862613146418), (40.63810721034131, -8.639667237253628), (40.638170378150726, -8.639471861360837), (40.63823354596015, -8.639276485468049), (40.63829671376957, -8.639081109575258), (40.638359881578985, -8.638885733682468), (40.63842304938841, -8.638690357789677), (40.63848621719783, -8.638494981896887), (40.638549385007245, -8.638299606004097), (40.63861255281667, -8.638104230111306), (40.63867572062609, -8.637908854218516), (40.638738888435505, -8.637713478325725), (40.63880205624493, -8.637518102432935), (40.63886522405435, -8.637322726540146), (40.63892839186377, -8.637127350647356), (40.63899155967319, -8.636931974754566), (40.63905472748261, -8.636736598861775), (40.63911789529203, -8.636541222968985), (40.63918106310145, -8.636345847076194), (40.63924423091087, -8.636150471183404), (40.63930739872029, -8.635955095290614), (40.639370566529706, -8.635759719397823), (40.63943373433913, -8.635564343505033), (40.63949690214855, -8.635368967612244), (40.639560069957966, -8.635173591719454), (40.63962323776739, -8.634978215826663), (40.63968640557681, -8.634782839933873), (40.63974957338623, -8.634587464041083), (40.63981274119565, -8.634392088148292), (40.63987590900507, -8.634196712255502), (40.63993907681449, -8.634001336362711), (40.64000224462391, -8.633805960469921), (40.64006541243333, -8.63361058457713), (40.64012858024275, -8.633415208684342), (40.64019174805217, -8.633219832791552), (40.64025491586159, -8.633024456898761), (40.64031808367101, -8.632829081005971), (40.64038125148043, -8.63263370511318), (40.64044441928985, -8.63243832922039), (40.64050758709927, -8.6322429533276), (40.64057075490869, -8.63204757743481), (40.64063392271811, -8.631852201542019), (40.64069709052753, -8.631656825649229), (40.640760258336954, -8.63146144975644), (40.64082342614637, -8.63126607386365), (40.64088659395579, -8.63107069797086), (40.640949761765214, -8.630875322078069), (40.64101292957463, -8.630679946185278), (40.64107609738405, -8.630484570292488))


data={"id": "1","lat": DataList_1[0][0],"lon": DataList_1[0][1],"has_package": True}
data2={"id": "2","lat": DataList_2[0][0],"lon": DataList_2[0][1],"has_package": False}

payload = dict(data)
payload2 = dict(data2)

headers = {'accept': 'application/json','Content-Type': 'application/json'}  

res = requests.post(url,headers=headers,json=payload)
print(res.text)
time.sleep(0.6)

data2={"id": "2","lat": DataList_2[0][0],"lon": DataList_2[0][1],"has_package": False}    
res = requests.post(url,headers=headers,json=payload2)
print(res.text)


#station post
print("hello")
nurl = "http://127.0.0.1:8000/station"
ndata = {"id": "station1","lat": DataList_1[0][0],"lon": DataList_1[0][1],"drones":[]}
npayload = dict(ndata)
nres = requests.post(nurl,headers=headers,json=npayload)
print(nres.text)



for i in range(len(DataList_1)):
    data={"id": "1","lat": DataList_1[i][0],"lon": DataList_1[i][1],"has_package": True}
    payload = dict(data)
    res = requests.post(url,headers=headers,json=payload)
    time.sleep(0.8)
    print(res.text)

 
data={"id": "1","lat": DataList_2[0][0],"lon": DataList_2[0][1],"has_package": False}
payload = dict(data)
res = requests.post(url,headers=headers,json=payload)
print(res.text)
time.sleep(0.8)
    
for i in range(len(DataList_2)):
    data2={"id": "2","lat": DataList_2[i][0],"lon": DataList_2[i][1],"has_package": True}
    payload2 = dict(data2)    
    res = requests.post(url,headers=headers,json=payload2)
    time.sleep(0.8)
    print(res.text)
    
    #(40.634143433650856, -8.631619736734109)
    #(40.64107609738405, -8.630484570292488)


